!function(){"use strict";var e,t={645:function(){var e=window.wp.blocks,t=window.wp.element,o=window.wp.i18n,n=window.wp.blockEditor,a=window.wp.components;function l(e){let{attributes:n,setAttributes:l}=e;const{mediaUrl:r,showDownloadPDF:i,showPrintPDF:c,showFullScreen:d,dockPageControls:p,embedMode:s,width:u,height:h,apiKey:m}=n;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(a.PanelBody,{title:(0,o.__)("Settings","popper"),initialOpen:!0},(0,t.createElement)(a.TextControl,{label:(0,o.__)("API Key","popper"),help:(0,t.createElement)(t.RawHTML,null,sprintf((0,o.__)("<p>Get your free API key on %s.</p>","popper"),'<a href="https://www.adobe.io/apis/documentcloud/dcsdk/pdf-embed.html" target="_blank">Adobe  Official site</a>')),value:m,onChange:e=>l({apiKey:e})}),(0,t.createElement)(a.SelectControl,{label:(0,o.__)("Embed mode","popper"),value:s,options:[{label:(0,o.__)("Sized Container","popper"),value:"SIZED_CONTAINER"},{label:(0,o.__)("Inline","popper"),value:"IN_LINE"}],onChange:e=>l({embedMode:e})}),(0,t.createElement)(a.ToggleControl,{label:(0,o.__)("Show Download PDF","popper"),checked:i,onChange:e=>l({showDownloadPDF:e})}),(0,t.createElement)(a.ToggleControl,{label:(0,o.__)("Show Print PDF","popper"),checked:c,onChange:e=>l({showPrintPDF:e})}),(0,t.createElement)(a.ToggleControl,{label:(0,o.__)("Show FullScreen Mode","popper"),checked:d,onChange:e=>l({showFullScreen:e})}),(0,t.createElement)(a.ToggleControl,{label:(0,o.__)("Page Controls Docked","popper"),checked:p,onChange:e=>l({dockPageControls:e})}),(0,t.createElement)(a.PanelRow,null,"SIZED_CONTAINER"===s&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(a.RangeControl,{label:(0,o.__)("Height","popper"),help:(0,t.createElement)("small",null,(0,o.__)("Show the popup when this percentage of the page has been scrolled.")),beforeIcon:"image-flip-vertical",value:h,onChange:e=>l({height:e}),min:500,max:1e3})))))}function r(e){const{attributes:l,setAttributes:r}=e,{mediaUrl:i,embedMode:c,height:d,apiKey:p,showPrintPdf:s,fileName:u}=l,h=e=>{r({mediaUrl:e.url,fileName:e.filename})};return(0,t.useEffect)((()=>{var e=document.createElement("script");e.src="https://documentcloud.adobe.com/view-sdk/main.js",document.head.appendChild(e),i&&document.addEventListener("adobe_dc_view_sdk.ready",(function(){new AdobeDC.View({clientId:p,divId:"adobe-dc-view"}).previewFile({content:{location:{url:i}},metaData:{fileName:u}},l)}))}),[]),(0,t.useEffect)((()=>{if(window.AdobeDC){var e=document.getElementById("adobe-dc-view");e&&(e.style.height="500px",new AdobeDC.View({clientId:p,divId:"adobe-dc-view"}).previewFile({content:{location:{url:i}},metaData:{fileName:u}},l))}}),[i,c,p,s]),(0,t.createElement)(t.Fragment,null,i?(0,t.createElement)(t.Fragment,null,(0,t.createElement)(n.BlockControls,null,i&&(0,t.createElement)(a.ToolbarGroup,null,(0,t.createElement)(n.MediaReplaceFlow,{mediaURL:i,allowedTypes:["application/pdf"],accept:".pdf",onSelect:e=>h(e),onError:()=>console.log(99)}))),(0,t.createElement)("div",{id:"adobe-dc-view",style:{height:d}})):(0,t.createElement)(n.MediaPlaceholder,{icon:"pdf",labels:{title:(0,o.__)("PDF"),instructions:(0,o.__)("Upload a PDF file, pick one from your media library, or add one with a URL.")},className:"block-image",onSelect:h,onSelectURL:e=>{r({mediaUrl:e,fileName:new URL(e).pathname.split("/").pop()})},accept:".pdf",allowedTypes:["application/pdf"]}))}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i.apply(this,arguments)}window.wp.apiFetch,window.lodash,(0,e.registerBlockType)("tropicalista/pdfembed",{edit:function(e){const{attributes:i,setAttributes:c}=e,{apiKey:d,mediaUrl:p}=i;return(0,t.createElement)("div",(0,n.useBlockProps)(),(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(l,e)),d?(0,t.createElement)(r,e):(0,t.createElement)(a.Placeholder,{icon:"pdf",instructions:(0,o.__)("Please insert an api Key in the settings panel on the right.","popper"),label:(0,o.__)("Missing key","popper")}))},save:function(e){let{attributes:o}=e;const{mediaUrl:a,embedMode:l,height:r,apiKey:c,showPrintPDF:d,showDownloadPDF:p,showPageControls:s,showFullScreen:u,dockPageControls:h,fileName:m}=o;return(0,t.createElement)("div",i({id:"adobe-dc-view"},n.useBlockProps.save(),{style:{height:o.height},"data-apiKey":c,"data-fileName":m,"data-mediaUrl":a,"data-embedMode":l,"data-showDownloadPDF":p,"data-showPrintPDF":d,"data-showPageControls":s,"data-showFullScreen":u,"data-dockPageControls":h}))}})}},o={};function n(e){var a=o[e];if(void 0!==a)return a.exports;var l=o[e]={exports:{}};return t[e](l,l.exports,n),l.exports}n.m=t,e=[],n.O=function(t,o,a,l){if(!o){var r=1/0;for(p=0;p<e.length;p++){o=e[p][0],a=e[p][1],l=e[p][2];for(var i=!0,c=0;c<o.length;c++)(!1&l||r>=l)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(i=!1,l<r&&(r=l));if(i){e.splice(p--,1);var d=a();void 0!==d&&(t=d)}}return t}l=l||0;for(var p=e.length;p>0&&e[p-1][2]>l;p--)e[p]=e[p-1];e[p]=[o,a,l]},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,46:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,l,r=o[0],i=o[1],c=o[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(c)var p=c(n)}for(t&&t(o);d<r.length;d++)l=r[d],n.o(e,l)&&e[l]&&e[l][0](),e[r[d]]=0;return n.O(p)},o=self.webpackChunkadobe_pdf=self.webpackChunkadobe_pdf||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var a=n.O(void 0,[46],(function(){return n(645)}));a=n.O(a)}();