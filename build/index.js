!function(){var e,t={630:function(e,t,n){"use strict";var o=window.wp.blocks,l=JSON.parse('{"$schema":"https://json.schemastore.org/block.json","apiVersion":2,"name":"tropicalista/pdfembed","version":"0.2.0","title":"Embed Pdf","category":"embed","icon":"pdf","description":"PDF embedder with official Adobe Embed API.","supports":{"html":false},"attributes":{"blockId":{"type":"string"},"apiKey":{"type":"string"},"width":{"type":"number","default":500},"height":{"type":"number"},"mediaUrl":{"type":"string"},"fileName":{"type":"string","default":"My PDF"},"embedMode":{"type":"string","default":""},"showDownloadPDF":{"type":"boolean","default":true},"showPrintPDF":{"type":"boolean","default":true},"showFullScreen":{"type":"boolean","default":true},"showPageControls":{"type":"boolean","default":true},"dockPageControls":{"type":"boolean","default":true},"enableFormFilling":{"type":"boolean","default":true},"showAnnotationTools":{"type":"boolean","default":true}},"textdomain":"pdf-embed","editorScript":"file:./build/index.js","editorStyle":"file:./build/index.css","style":"file:./build/style-index.css","viewScript":"file:./build/frontend.js"}');function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}var r=window.wp.element,i=window.wp.i18n,d=window.wp.blockEditor,s=(window.wp.coreData,window.wp.components),c=(window.wp.apiFetch,window.lodash,window.wp.api),u=n.n(c);function p(e){const{attributes:t,setAttributes:n}=e,{apiKey:o}=t,[l,a]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{c(o)}),[]),(0,r.createElement)(r.Fragment,null,(0,r.createElement)(s.__experimentalInputControl,{label:(0,i.__)("API Key","pdf-embed"),value:d||"",onChange:e=>c(e),suffix:(0,r.createElement)(s.Button,{onClick:()=>{return e=d,void new(u().models.Settings)({pdf_embed_api_key:e}).save(null,{success:()=>n({apiKey:e})});var e},isPrimary:!0,"aria-disabled":l,isBusy:l},(0,i.__)("Save","formello"))}))}function f(e){const{attributes:t,setAttributes:n}=e,{mediaUrl:o,showDownloadPDF:l,showPrintPDF:a,showFullScreen:d,dockPageControls:c,embedMode:u,width:f,height:m,apiKey:b,showAnnotationTools:h,enableFormFilling:w}=t;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(s.PanelBody,{title:(0,i.__)("Settings","pdf-embed"),initialOpen:!0},(0,r.createElement)(p,e),(0,r.createElement)(r.RawHTML,null,sprintf((0,i.__)("<p>Get your free API key on %s.</p>","pdf-embed"),'<a href="https://www.adobe.io/apis/documentcloud/dcsdk/pdf-embed.html" target="_blank">Adobe  Official site</a>')),(0,r.createElement)(s.SelectControl,{label:(0,i.__)("Embed mode","pdf-embed"),value:u,options:[{label:(0,i.__)("Default","pdf-embed"),value:""},{label:(0,i.__)("Sized Container","pdf-embed"),value:"SIZED_CONTAINER"},{label:(0,i.__)("Inline","pdf-embed"),value:"IN_LINE"}],onChange:e=>n({embedMode:e})}),(0,r.createElement)(s.ToggleControl,{label:(0,i.__)("Show Download PDF","pdf-embed"),checked:l,onChange:e=>n({showDownloadPDF:e})}),(0,r.createElement)(s.ToggleControl,{label:(0,i.__)("Show Print PDF","pdf-embed"),checked:a,onChange:e=>n({showPrintPDF:e})}),(0,r.createElement)(s.ToggleControl,{label:(0,i.__)("Show FullScreen Mode","pdf-embed"),checked:d,onChange:e=>n({showFullScreen:e})}),(0,r.createElement)(s.ToggleControl,{label:(0,i.__)("Page Controls Docked","pdf-embed"),checked:c,onChange:e=>n({dockPageControls:e})}),(0,r.createElement)(s.ToggleControl,{label:(0,i.__)("Show Annotation Tools","pdf-embed"),checked:h,onChange:e=>n({showAnnotationTools:e})}),(0,r.createElement)(s.ToggleControl,{label:(0,i.__)("Enable Form Filling","pdf-embed"),checked:w,onChange:e=>n({enableFormFilling:e})}),"SIZED_CONTAINER"===u&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(s.RangeControl,{label:(0,i.__)("Height","pdf-embed"),help:(0,r.createElement)("small",null,(0,i.__)("Set the height of PDF.","pdf-embed")),beforeIcon:"image-flip-vertical",value:m,onChange:e=>n({height:e}),min:500,max:1e3}))))}function m(e){const{attributes:t,setAttributes:n,clientId:o,isSelected:l}=e,{mediaUrl:a,embedMode:c,height:u,apiKey:p,showPrintPdf:f,fileName:m,blockId:b}=t,h=e=>{e.id&&n({mediaUrl:e.url,fileName:e.filename?e.filename:e.title})};(0,r.useEffect)((()=>{var e=document.createElement("script");e.src="https://documentcloud.adobe.com/view-sdk/main.js",document.head.appendChild(e),a&&document.addEventListener("adobe_dc_view_sdk.ready",(function(){new AdobeDC.View({clientId:p,divId:b}).previewFile({content:{location:{url:a}},metaData:{fileName:m}},t)}))}),[]),(0,r.useEffect)((()=>{if(window.AdobeDC&&a){var e=document.getElementById(b);e&&a&&(e.style.height=u+"px",new AdobeDC.View({clientId:p,divId:b}).previewFile({content:{location:{url:a}},metaData:{fileName:m}},t))}}),[a,c,p,f]),(0,d.useBlockProps)();const[w,g]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{l||g(!1)}),[l]),(0,r.createElement)(r.Fragment,null,a?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(d.BlockControls,null,a&&(0,r.createElement)(s.ToolbarGroup,null,(0,r.createElement)(d.MediaReplaceFlow,{mediaURL:a,allowedTypes:["application/pdf"],accept:".pdf",onSelect:e=>h(e),onError:()=>console.log(99)}))),(0,r.createElement)("div",null,(0,r.createElement)("div",{id:b,style:{height:u}}),!w&&(0,r.createElement)("div",{className:"block-library-embed__interactive-overlay",onMouseUp:()=>g(!0)}))):(0,r.createElement)(d.MediaPlaceholder,{icon:"pdf",labels:{title:(0,i.__)("PDF"),instructions:(0,i.__)("Upload a PDF file, pick one from your media library, or add one with a URL.")},className:"block-image",onSelect:h,onSelectURL:e=>{n({mediaUrl:e,fileName:new URL(e).pathname.split("/").pop()})},accept:".pdf",allowedTypes:["application/pdf"]}))}window.wp.data;var b=n(184),h=n.n(b);const{createHigherOrderComponent:w}=wp.compose,{Fragment:g}=wp.element,{addFilter:y}=wp.hooks,v=["core/button","generateblocks/button"];y("editor.BlockEdit","extend-block-example/with-spacing-control",w((e=>t=>{if(!v.includes(t.name))return(0,r.createElement)(e,t);const{attributes:n,setAttributes:o}=t;return(0,r.createElement)(g,null,(0,r.createElement)(e,t),(0,r.createElement)(d.BlockControls,null,(0,r.createElement)(s.ToolbarGroup,null,(0,r.createElement)(s.ToolbarButton,{label:(0,i.__)("Open pdf in lightbox","pdf-embed"),icon:"pdf",onClick:()=>{o({embedPdf:!n.embedPdf})},isPressed:n.embedPdf}))))}),"withSpacingControl"));const E=["core/button"];y("blocks.registerBlockType","tropicalista/pdf-embed",(function(e,t){return E.includes(t)?(void 0!==e.attributes&&(e.attributes=Object.assign(e.attributes,{embedPdf:{type:"boolean",default:!1}})),e):e})),y("blocks.getSaveContent.extraProps","tropicalista/pdf-embed",(function(e,t,n){if(!v.includes(t.name))return e;const{embedPdf:o}=n,{className:l}=e;return Object.assign({},e,{className:h()(l,{embedPdf:o})})})),(0,o.registerBlockType)(l,{edit:function(e){const[t,n]=(0,r.useState)(!1),{attributes:o,setAttributes:l,clientId:c}=e,{height:u,blockId:b,apiKey:h}=o;return(0,r.useEffect)((()=>{l({apiKey:pdf_embed.apiKey})}),[]),(0,r.useEffect)((()=>{const e=c.substr(2,9).replace("-","").replace(/-/g,"");b||l({blockId:e})}),[]),(0,r.createElement)("div",a({},(0,d.useBlockProps)(),{style:{height:u}}),(0,r.createElement)(d.InspectorControls,null,(0,r.createElement)(f,e)),h?(0,r.createElement)(m,e):(0,r.createElement)(s.Placeholder,{icon:"pdf",instructions:(0,r.createElement)(r.RawHTML,null,sprintf((0,i.__)("<p>Please insert a <b>free api Key</b> here or in the settings panel on the right. Get your free API key on %s.</p>","pdf-embed"),'<a href="https://www.adobe.io/apis/documentcloud/dcsdk/pdf-embed.html" target="_blank">Adobe  Official site</a>')),label:(0,i.__)("Missing key","pdf-embed")},(0,r.createElement)(p,e)))},save:function(e){let{attributes:t}=e;const{blockId:n,mediaUrl:o,embedMode:l,height:i,apiKey:s,showPrintPDF:c,showDownloadPDF:u,showPageControls:p,showFullScreen:f,dockPageControls:m,fileName:b,showAnnotationTools:h,enableFormFilling:w}=t;return(0,r.createElement)("div",a({id:n},d.useBlockProps.save(),{style:{height:t.height},"data-apiKey":s,"data-fileName":b,"data-mediaUrl":o,"data-embedMode":l,"data-showDownloadPDF":u,"data-showPrintPDF":c,"data-showPageControls":p,"data-showFullScreen":f,"data-dockPageControls":m,"data-showAnnotationTools":h,"data-enableFormFilling":w}))}})},184:function(e,t){var n;!function(){"use strict";var o={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var r=l.apply(null,n);r&&e.push(r)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var i in n)o.call(n,i)&&n[i]&&e.push(i);else e.push(n.toString())}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(n=function(){return l}.apply(t,[]))||(e.exports=n)}()}},n={};function o(e){var l=n[e];if(void 0!==l)return l.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,e=[],o.O=function(t,n,l,a){if(!n){var r=1/0;for(c=0;c<e.length;c++){n=e[c][0],l=e[c][1],a=e[c][2];for(var i=!0,d=0;d<n.length;d++)(!1&a||r>=a)&&Object.keys(o.O).every((function(e){return o.O[e](n[d])}))?n.splice(d--,1):(i=!1,a<r&&(r=a));if(i){e.splice(c--,1);var s=l();void 0!==s&&(t=s)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,l,a]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,46:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,a,r=n[0],i=n[1],d=n[2],s=0;if(r.some((function(t){return 0!==e[t]}))){for(l in i)o.o(i,l)&&(o.m[l]=i[l]);if(d)var c=d(o)}for(t&&t(n);s<r.length;s++)a=r[s],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(c)},n=self.webpackChunkadobe_pdf=self.webpackChunkadobe_pdf||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var l=o.O(void 0,[46],(function(){return o(630)}));l=o.O(l)}();