(()=>{var e,t={384:(e,t,o)=>{"use strict";const a=window.wp.blocks,l=JSON.parse('{"$schema":"https://json.schemastore.org/block.json","apiVersion":3,"name":"tropicalista/pdfembed","version":"0.3.9","title":"Embed Pdf","category":"embed","icon":"pdf","description":"PDF embedder with official Adobe Embed API.","supports":{"html":false,"anchor":true},"attributes":{"id":{"type":"string","source":"attribute","attribute":"id"},"blockId":{"type":"string"},"apiKey":{"type":"string","source":"attribute","selector":"div.wp-block-tropicalista-pdfembed","attribute":"data-api-key","default":""},"width":{"type":"number"},"height":{"type":"string","default":"500px"},"mediaUrl":{"type":"string","source":"attribute","selector":"div.wp-block-tropicalista-pdfembed","attribute":"data-media-url"},"fileName":{"type":"string","source":"attribute","selector":"div.wp-block-tropicalista-pdfembed","attribute":"data-file-name"},"embedMode":{"type":"string","source":"attribute","selector":"div.wp-block-tropicalista-pdfembed","attribute":"data-embed-mode"},"showDownloadPDF":{"type":"boolean","source":"attribute","selector":"div.wp-block-tropicalista-pdfembed","attribute":"data-show-download-pdf","default":true},"dockPageControls":{"type":"boolean","source":"attribute","selector":"div.wp-block-tropicalista-pdfembed","attribute":"data-dock-page-controls","default":false},"showPrintPDF":{"type":"boolean","source":"attribute","selector":"div.wp-block-tropicalista-pdfembed","attribute":"data-show-print-pdf","default":true},"showFullScreen":{"type":"boolean","source":"attribute","selector":"div.wp-block-tropicalista-pdfembed","attribute":"data-show-full-screen","default":true},"showPageControls":{"type":"boolean","source":"attribute","selector":"div.wp-block-tropicalista-pdfembed","attribute":"data-show-page-controls","default":true},"showZoomControl":{"type":"boolean","source":"attribute","selector":"div.wp-block-tropicalista-pdfembed","attribute":"data-show-zoom-control","default":true},"showThumbnails":{"type":"boolean","source":"attribute","selector":"div.wp-block-tropicalista-pdfembed","attribute":"data-show-thumbnails","default":true},"showBookmarks":{"type":"boolean","source":"attribute","selector":"div.wp-block-tropicalista-pdfembed","attribute":"data-show-bookmarks","default":true},"defaultViewMode":{"type":"string","source":"attribute","selector":"div.wp-block-tropicalista-pdfembed","attribute":"data-default-view-mode","default":"FIT_PAGE"},"enableFormFilling":{"type":"boolean","source":"attribute","selector":"div.wp-block-tropicalista-pdfembed","attribute":"data-enable-form-filling","default":true},"showAnnotationTools":{"type":"boolean","source":"attribute","selector":"div.wp-block-tropicalista-pdfembed","attribute":"data-show-annotation-tools","default":true},"enableTextSelection":{"type":"boolean","source":"attribute","selector":"div.wp-block-tropicalista-pdfembed","attribute":"data-enable-text-selection","default":true},"measurementId":{"type":"string","source":"attribute","selector":"div.wp-block-tropicalista-pdfembed","attribute":"data-measurement-id","default":""}},"textdomain":"pdf-embed","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScript":["file:./view.js","pdf-embed-api"],"render":"file:./render.php"}'),n=window.React,i=window.wp.i18n,d=window.wp.element,r=window.wp.components,s=window.wp.blockEditor,c=window.wp.coreData,p=window.wp.data;function b({setAttributes:e}){const[t]=(0,c.useEntityProp)("root","site","pdf_embed_api_key"),[o]=(0,c.useEntityProp)("root","site","url"),{editEntityRecord:a,saveEditedEntityRecord:l}=(0,p.useDispatch)(c.store),{canUserEdit:s}=(0,p.useSelect)((e=>{const{canUser:t}=e(c.store);return{canUserEdit:t("update","settings")}}),[]);return(0,n.createElement)(d.Fragment,null,!s&&(0,n.createElement)("p",null,(0,i.__)("Only admin can manage PDF Embed api key","pdf-embed")),s&&(0,n.createElement)(r.__experimentalInputControl,{label:(0,i.__)("API Key","pdf-embed"),help:(0,d.createInterpolateElement)((0,i.__)("Get your free API key on <a>Adobe Official site</a>.","pdf-embed"),{a:(0,n.createElement)(r.ExternalLink,{href:"https://www.adobe.io/apis/documentcloud/dcsdk/pdf-embed.html",target:"_blank",rel:"noreferrer"})}),value:t,onChange:e=>{a("root","site",void 0,{pdf_embed_api_key:e})},suffix:(0,n.createElement)(r.Button,{onClick:()=>(e({apiKey:t}),void l("root","site",void 0,{pdf_embed_api_key:t})),isPrimary:!0},(0,i.__)("Save"))}))}function m(e){const{attributes:t,setAttributes:o}=e,{showDownloadPDF:a,showPrintPDF:l,showFullScreen:c,showZoomControl:p,embedMode:m,height:u,showAnnotationTools:h,enableFormFilling:f,defaultViewMode:w,showBookmarks:g,showThumbnails:_,dockPageControls:y,enableTextSelection:v,measurementId:k}=t,P={FULL_WINDOW:(0,i.__)("Renders the PDF viewer into the full height and width of the parent element.","pdf-embed"),SIZED_CONTAINER:(0,i.__)("The sized container mode displays PDFs in a boxed container with landscape orientation.","pdf-embed"),IN_LINE:(0,i.__)("All PDF pages rendered in line within a web page.","pdf-embed")},F={FIT_PAGE:(0,i.__)("Displays the entire page in the current view pane.","pdf-embed"),FIT_WIDTH:(0,i.__)("Expands the page horizontally to the full width of the document pane.","pdf-embed"),TWO_COLUMN_FIT_PAGE:(0,i.__)("Displays two pages of the PDF side by side where the entire two pages are displayed in the current view pane.","pdf-embed"),TWO_COLUMN:(0,i.__)("Displays two pages of the PDF side by side in the current view pane.","pdf-embed"),CONTINUOS:(0,i.__)("This mode displays all the document pages one after the other and users can easily navigate through the pages by scrolling up or down.","pdf-embed"),SINGLE_PAGE:(0,i.__)("This mode displays only a single document page at a time and doesn't show any adjoining page.","pdf-embed")};return(0,n.createElement)(d.Fragment,null,(0,n.createElement)(r.PanelBody,{title:(0,i.__)("Settings","pdf-embed"),initialOpen:!0},(0,n.createElement)(b,{...e}),(0,n.createElement)("hr",null),(0,n.createElement)(r.SelectControl,{label:(0,i.__)("Embed mode","pdf-embed"),value:m||"FULL_WINDOW",options:[{label:(0,i.__)("Full Window","pdf-embed"),value:"FULL_WINDOW"},{label:(0,i.__)("Sized Container","pdf-embed"),value:"SIZED_CONTAINER"},{label:(0,i.__)("Inline","pdf-embed"),value:"IN_LINE"}],onChange:e=>o({embedMode:e}),help:P[m]||P.FULL_WINDOW}),(0,n.createElement)(r.SelectControl,{label:(0,i.__)("Default view mode","pdf-embed"),value:w,options:[{label:(0,i.__)("Fit Page","pdf-embed"),value:"FIT_PAGE"},{label:(0,i.__)("Fit Width","pdf-embed"),value:"FIT_WIDTH"},{label:(0,i.__)("Two Column","pdf-embed"),value:"TWO_COLUMN"},{label:(0,i.__)("Two Column Fit Page","pdf-embed"),value:"TWO_COLUMN_FIT_PAGE"},{label:(0,i.__)("Continuous (mobile only)","pdf-embed"),value:"CONTINUOUS"},{label:(0,i.__)("Single page (mobile only)","pdf-embed"),value:"SINGLE_PAGE"}],onChange:e=>o({defaultViewMode:e}),help:F[w]}),(0,n.createElement)(r.ToggleControl,{label:(0,i.__)("Show Download PDF","pdf-embed"),checked:a,onChange:e=>o({showDownloadPDF:e}),help:(0,i.__)("If true, PDF can be downloaded in all embed modes. Set this to false to disable PDF download.","pdf-embed")}),(0,n.createElement)(r.ToggleControl,{label:(0,i.__)("Show Print PDF","pdf-embed"),checked:l,onChange:e=>o({showPrintPDF:e}),help:(0,i.__)("If true, PDF can be printed in all embed modes. Set this to false to disable PDF printing.","pdf-embed")}),(0,n.createElement)(r.ToggleControl,{label:(0,i.__)("Show FullScreen Mode","pdf-embed"),checked:c,onChange:e=>o({showFullScreen:e}),help:(0,i.__)("By default, the full screen toggle appears in the bottom toolbar in sized container embed mode. Set this to false to hide the full screen toggle.","pdf-embed")}),(0,n.createElement)(r.ToggleControl,{label:(0,i.__)("Show Zoom Control","pdf-embed"),checked:p,onChange:e=>o({showZoomControl:e}),help:(0,i.__)("Set this to false to hide the zoom-in and zoom-out options available in the right-hand panel. This configuration will work for full window and lightbox embed modes.","pdf-embed")}),(0,n.createElement)(r.ToggleControl,{label:(0,i.__)("Show Thumbnails","pdf-embed"),checked:_,onChange:e=>o({showThumbnails:e}),help:(0,i.__)("Page thumbnails are available by default in full window and lightbox embed modes. Set this to false if you want to hide the thumbnails from the right-hand panel.","pdf-embed")}),(0,n.createElement)(r.ToggleControl,{label:(0,i.__)("Show Bookmarks","pdf-embed"),checked:g,onChange:e=>o({showBookmarks:e}),help:(0,i.__)("PDF bookmarks are available by default in full window and lightbox embed modes. Set this to false if you want to hide the bookmarks from the right-hand panel.","pdf-embed")}),(0,n.createElement)(r.ToggleControl,{label:(0,i.__)("Show Annotation Tools","pdf-embed"),checked:h,onChange:e=>o({showAnnotationTools:e}),help:(0,i.__)("If true, tools such as add text, sticky note, highlight, and so on appear in the quick tools menu on the left-hand side in full window embed mode.","pdf-embed")}),(0,n.createElement)(r.ToggleControl,{label:(0,i.__)("Dock Page Controls","pdf-embed"),checked:y,onChange:e=>o({dockPageControls:e})}),(0,n.createElement)(r.ToggleControl,{label:(0,i.__)("Enable Form Filling","pdf-embed"),checked:f,onChange:e=>o({enableFormFilling:e}),help:(0,i.__)("If true, form filling is enabled and users can edit fields in full window embed mode.","pdf-embed")}),"IN_LINE"!==m&&(0,n.createElement)(r.BaseControl,{help:(0,i.__)("Set the height of PDF.","pdf-embed")},(0,n.createElement)(s.HeightControl,{label:(0,i.__)("Height","pdf-embed"),beforeIcon:"image-flip-vertical",value:u,onChange:e=>o({height:e})})),(0,n.createElement)(r.ToggleControl,{label:(0,i.__)("Enable Text Selection","pdf-embed"),checked:v,onChange:e=>o({enableTextSelection:e}),help:(0,i.__)("Enable text selection in PDF.","pdf-embed")}),(0,n.createElement)(r.TextControl,{label:(0,i.__)("Google Analytics","pdf-embed"),value:k,onChange:e=>o({measurementId:e}),help:(0,i.__)("Add your measurement id to track pdf event in Google Analytics.","pdf-embed")})))}const u=window.wp.compose,h=e=>{const{attributes:t,setAttributes:o,isSelected:a,clientId:l}=e,{mediaUrl:p,height:b,fileName:m}=t,f="pdf-"+(0,u.useInstanceId)(h),[w]=(0,c.useEntityProp)("root","site","pdf_embed_api_key"),[g,_]=(0,d.useState)(!1),y=(0,u.useRefEffect)((e=>{const{ownerDocument:t}=e,{defaultView:o}=t;if(e.ownerDocument.addEventListener("adobe_dc_view_sdk.ready",(function(){o.AdobeDC&&v(o)})),p&&o.AdobeDC&&(w||pdf_embed.apiKey)&&v(o),!o.AdobeDC){const e=o.document.createElement("script");e.src="https://acrobatservices.adobe.com/view-sdk/viewer.js",o.document.head.appendChild(e)}}),[t]),v=e=>{new e.AdobeDC.View({clientId:null!=w?w:pdf_embed.apiKey,divId:f}).previewFile({content:{location:{url:p}},metaData:{fileName:m}},t)},k=(0,s.useBlockProps)({id:f}),P=e=>{e.id&&o({mediaUrl:e.url,fileName:e.filename?e.filename:e.title})};return(0,d.useEffect)((()=>{a||_(!1)}),[a]),p?(0,n.createElement)("div",{...k},(0,n.createElement)(s.BlockControls,null,p&&(0,n.createElement)(r.ToolbarGroup,null,(0,n.createElement)(s.MediaReplaceFlow,{mediaURL:p,allowedTypes:["application/pdf"],accept:".pdf",onSelect:e=>P(e)}))),(0,n.createElement)("div",{id:f,ref:y,style:{height:b},tabIndex:"-1"}),!g&&(0,n.createElement)("div",{className:"block-library-embed__interactive-overlay",onMouseUp:()=>{_(!0)}})):(0,n.createElement)("div",{...k},(0,n.createElement)(s.MediaPlaceholder,{icon:"pdf",labels:{title:(0,i.__)("PDF"),instructions:(0,i.__)("Upload a PDF file, pick one from your media library, or add one with a URL.","pdf-embed")},className:"block-image",onSelect:P,onSelectURL:e=>{o({mediaUrl:e,fileName:new URL(e).pathname.split("/").pop()})},accept:".pdf",allowedTypes:["application/pdf"]}))},f=window.wp.hooks;var w=o(485),g=o.n(w);const _=["core/button","generateblocks/button"],y=(0,u.createHigherOrderComponent)((e=>t=>{if(!_.includes(t.name))return(0,n.createElement)(e,{...t});const{attributes:o,setAttributes:a}=t;return(0,n.createElement)(d.Fragment,null,(0,n.createElement)(e,{...t}),(0,n.createElement)(s.BlockControls,null,!!o.url&&"pdf"===o.url.split(/[#?]/)[0].split(".").pop().trim()&&(0,n.createElement)(r.ToolbarGroup,null,(0,n.createElement)(r.ToolbarButton,{label:(0,i.__)("Open pdf in lightbox","pdf-embed"),icon:"pdf",onClick:()=>{a({embedPdf:!o.embedPdf})},isPressed:o.embedPdf}))))}),"withSpacingControl");(0,f.addFilter)("editor.BlockEdit","extend-block-example/with-spacing-control",y);const v=["core/button"];(0,f.addFilter)("blocks.registerBlockType","tropicalista/pdf-embed",(function(e,t){return v.includes(t)?(void 0!==e.attributes&&(e.attributes=Object.assign(e.attributes,{embedPdf:{type:"boolean",default:!1}})),e):e})),(0,f.addFilter)("blocks.getSaveContent.extraProps","tropicalista/pdf-embed",(function(e,t,o){if(!_.includes(t.name))return e;const{embedPdf:a}=o,{className:l}=e;return Object.assign({},e,{className:g()(l,{embedPdf:a})})}));const k={id:{type:"string",source:"attribute",attribute:"id"},blockId:{type:"string"},apiKey:{type:"string"},width:{type:"number"},height:{type:"string",default:"500px"},mediaUrl:{type:"string"},fileName:{type:"string",default:"My PDF"},embedMode:{type:"string",default:""},showDownloadPDF:{type:"boolean",default:!0},showPrintPDF:{type:"boolean",default:!0},showFullScreen:{type:"boolean",default:!0},showPageControls:{type:"boolean",default:!0},dockPageControls:{type:"boolean",default:!0},enableFormFilling:{type:"boolean",default:!0},showAnnotationTools:{type:"boolean",default:!0}},P={html:!1,anchor:!0},F=[{blockAttributes:k,supports:P,isEligible:()=>!0,migrate:e=>({...e}),save({attributes:e}){const{blockId:t,mediaUrl:o,embedMode:a,height:l,apiKey:i,showPrintPDF:d,showDownloadPDF:r,showPageControls:c,showFullScreen:p,dockPageControls:b,fileName:m,showAnnotationTools:u,enableFormFilling:h}=e;return(0,n.createElement)("div",{id:t,...s.useBlockProps.save(),style:{height:l},"data-apiKey":i,"data-fileName":m,"data-mediaUrl":o,"data-embedMode":a,"data-showDownloadPDF":JSON.stringify(r),"data-showPrintPDF":JSON.stringify(d),"data-showPageControls":JSON.stringify(c),"data-showFullScreen":JSON.stringify(p),"data-dockPageControls":JSON.stringify(b),"data-showAnnotationTools":JSON.stringify(u),"data-enableFormFilling":JSON.stringify(h)})}},{blockAttributes:k,supports:P,isEligible:()=>!0,migrate:e=>({...e,"data-apikey":e.apiKey,"data-mediaurl":e.mediaUrl,"data-defaultviewmode":"FIT_PAGE"}),save({attributes:e}){const{blockId:t,mediaUrl:o,embedMode:a,height:l,apiKey:i,showPrintPDF:d,showDownloadPDF:r,showPageControls:c,showFullScreen:p,dockPageControls:b,fileName:m,showAnnotationTools:u,enableFormFilling:h}=e;return(0,n.createElement)("div",{id:t,...s.useBlockProps.save(),style:{height:l},"data-apiKey":i,"data-fileName":m,"data-mediaUrl":o,"data-embedMode":a,"data-showDownloadPDF":r,"data-showPrintPDF":d,"data-showPageControls":c,"data-showFullScreen":p,"data-dockPageControls":b,"data-showAnnotationTools":u,"data-enableFormFilling":h})}}];(0,a.registerBlockType)(l,{deprecated:F,edit:function(e){const t=(0,s.useBlockProps)(),[o]=(0,c.useEntityProp)("root","site","pdf_embed_api_key");return o||pdf_embed.apiKey?(0,n.createElement)(d.Fragment,null,(0,n.createElement)(s.InspectorControls,null,(0,n.createElement)(m,{...e})),(0,n.createElement)(h,{...e})):(0,n.createElement)("div",{...t},(0,n.createElement)(r.Placeholder,{icon:"pdf",instructions:(0,i.__)("Please insert a free api Key here or in the settings panel on the right.","pdf-embed"),label:(0,i.__)("PDF Embed","pdf-embed")},(0,n.createElement)(r.Flex,{expanded:!0},(0,n.createElement)(r.FlexItem,{isBlock:!0},(0,n.createElement)(b,{...e})))))},save:function({attributes:e,className:t}){const{mediaUrl:o,embedMode:a,height:l,apiKey:i,showPrintPDF:d,showDownloadPDF:r,showPageControls:c,showBookmarks:p,showThumbnails:b,showFullScreen:m,defaultViewMode:u,showZoomControl:h,fileName:f,showAnnotationTools:w,enableFormFilling:g,dockPageControls:_,measurementId:y,enableTextSelection:v}=e;return(0,n.createElement)("div",{...s.useBlockProps.save({className:t}),style:{height:l},"data-api-key":i,"data-file-name":f,"data-media-url":o,"data-embed-mode":a,"data-dock-page-controls":_||void 0,"data-show-download-PDF":r||void 0,"data-show-print-PDF":d||void 0,"data-show-page-controls":c||void 0,"data-show-thumbnails":b||void 0,"data-show-bookmarks":p||void 0,"data-show-zoom-control":h||void 0,"data-show-full-screen":m||void 0,"data-default-view-mode":u||void 0,"data-show-annotation-tools":w||void 0,"data-enable-form-filling":g||void 0,"data-measurement-id":y||void 0,"data-enable-text-selection":v||void 0})}})},485:(e,t)=>{var o;!function(){"use strict";var a={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var n=typeof o;if("string"===n||"number"===n)e.push(o);else if(Array.isArray(o)){if(o.length){var i=l.apply(null,o);i&&e.push(i)}}else if("object"===n){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var d in o)a.call(o,d)&&o[d]&&e.push(d)}}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(o=function(){return l}.apply(t,[]))||(e.exports=o)}()}},o={};function a(e){var l=o[e];if(void 0!==l)return l.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,a),n.exports}a.m=t,e=[],a.O=(t,o,l,n)=>{if(!o){var i=1/0;for(c=0;c<e.length;c++){for(var[o,l,n]=e[c],d=!0,r=0;r<o.length;r++)(!1&n||i>=n)&&Object.keys(a.O).every((e=>a.O[e](o[r])))?o.splice(r--,1):(d=!1,n<i&&(i=n));if(d){e.splice(c--,1);var s=l();void 0!==s&&(t=s)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,l,n]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};a.O.j=t=>0===e[t];var t=(t,o)=>{var l,n,[i,d,r]=o,s=0;if(i.some((t=>0!==e[t]))){for(l in d)a.o(d,l)&&(a.m[l]=d[l]);if(r)var c=r(a)}for(t&&t(o);s<i.length;s++)n=i[s],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},o=globalThis.webpackChunkadobe_pdf=globalThis.webpackChunkadobe_pdf||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=a.O(void 0,[350],(()=>a(384)));l=a.O(l)})();