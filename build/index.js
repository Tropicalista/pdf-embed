(()=>{var e,t={817:(e,t,o)=>{"use strict";const n=window.wp.blocks,l=JSON.parse('{"$schema":"https://json.schemastore.org/block.json","apiVersion":2,"name":"tropicalista/pdfembed","version":"0.2.9","title":"Embed Pdf","category":"embed","icon":"pdf","description":"PDF embedder with official Adobe Embed API.","supports":{"html":false,"anchor":true,"dimensions":{"minHeight":true}},"attributes":{"id":{"type":"string","source":"attribute","attribute":"id"},"blockId":{"type":"string"},"apiKey":{"type":"string"},"width":{"type":"number"},"height":{"type":"number"},"mediaUrl":{"type":"string"},"fileName":{"type":"string","default":"My PDF"},"embedMode":{"type":"string","default":""},"showDownloadPDF":{"type":"boolean","default":true},"showPrintPDF":{"type":"boolean","default":true},"showFullScreen":{"type":"boolean","default":true},"showPageControls":{"type":"boolean","default":true},"dockPageControls":{"type":"boolean","default":true},"enableFormFilling":{"type":"boolean","default":true},"showAnnotationTools":{"type":"boolean","default":true}},"textdomain":"pdf-embed","editorScript":"file:./build/index.js","editorStyle":"file:./build/index.css","style":"file:./build/style-index.css","viewScript":"file:./build/frontend.js"}');function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},a.apply(this,arguments)}const r=window.wp.element,i=window.wp.i18n,d=window.wp.blockEditor,s=window.wp.components,c=window.wp.compose,p=window.wp.api;var u=o.n(p);function m(e){const{attributes:t,setAttributes:o}=e,{apiKey:n}=t,[l,a]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{c(n)}),[]),(0,r.createElement)(r.Fragment,null,(0,r.createElement)(s.__experimentalInputControl,{label:(0,i.__)("API Key","pdf-embed"),value:d||"",onChange:e=>c(e),suffix:(0,r.createElement)(s.Button,{onClick:()=>{return e=d,a(!0),void new(u().models.Settings)({pdf_embed_api_key:e}).save(null,{success:()=>{o({apiKey:e}),a(!1)}});var e},isPrimary:!0,"aria-disabled":l,isBusy:l},(0,i.__)("Save"))}))}function b(e){const{attributes:t,setAttributes:o}=e,{showDownloadPDF:n,showPrintPDF:l,showFullScreen:a,dockPageControls:c,embedMode:p,height:u,showAnnotationTools:b,enableFormFilling:f}=t;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(s.PanelBody,{title:(0,i.__)("Settings","pdf-embed"),initialOpen:!0},(0,r.createElement)(m,e),(0,r.createElement)(r.RawHTML,null,(0,i.sprintf)((0,i.__)("<small>Get your free API key on %s.</small>","pdf-embed"),'<a href="https://www.adobe.io/apis/documentcloud/dcsdk/pdf-embed.html" target="_blank">Adobe  Official site</a>')),(0,r.createElement)("hr",null),(0,r.createElement)(s.SelectControl,{label:(0,i.__)("Embed mode","pdf-embed"),value:p,options:[{label:(0,i.__)("Default","pdf-embed"),value:""},{label:(0,i.__)("Sized Container","pdf-embed"),value:"SIZED_CONTAINER"},{label:(0,i.__)("Inline","pdf-embed"),value:"IN_LINE"}],onChange:e=>o({embedMode:e})}),(0,r.createElement)(s.ToggleControl,{label:(0,i.__)("Show Download PDF","pdf-embed"),checked:n,onChange:e=>o({showDownloadPDF:e})}),(0,r.createElement)(s.ToggleControl,{label:(0,i.__)("Show Print PDF","pdf-embed"),checked:l,onChange:e=>o({showPrintPDF:e})}),(0,r.createElement)(s.ToggleControl,{label:(0,i.__)("Show FullScreen Mode","pdf-embed"),checked:a,onChange:e=>o({showFullScreen:e})}),(0,r.createElement)(s.ToggleControl,{label:(0,i.__)("Page Controls Docked","pdf-embed"),checked:c,onChange:e=>o({dockPageControls:e})}),(0,r.createElement)(s.ToggleControl,{label:(0,i.__)("Show Annotation Tools","pdf-embed"),checked:b,onChange:e=>o({showAnnotationTools:e})}),(0,r.createElement)(s.ToggleControl,{label:(0,i.__)("Enable Form Filling","pdf-embed"),checked:f,onChange:e=>o({enableFormFilling:e})}),"SIZED_CONTAINER"===p&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(d.HeightControl,{label:(0,i.__)("Height","pdf-embed"),beforeIcon:"image-flip-vertical",value:u,onChange:e=>o({height:e}),help:(0,i.__)("Set the height of PDF.","pdf-embed")}),(0,r.createElement)("small",null,(0,i.__)("Set the height of PDF.","pdf-embed")))))}function f(e){const{attributes:t,setAttributes:o,isSelected:n,clientId:l}=e,{mediaUrl:a,embedMode:p,height:u,apiKey:m,showPrintPdf:f,showDownloadPdf:h,fileName:g,blockId:w}=t,y=(0,c.useRefEffect)((e=>{const{ownerDocument:o}=e,{defaultView:n}=o,l=n.document.createElement("script");l.src="https://documentservices.adobe.com/view-sdk/viewer.js",n.document.head.appendChild(l),a&&n.document.addEventListener("adobe_dc_view_sdk.ready",(function(){new n.AdobeDC.View({clientId:m,divId:w}).previewFile({content:{location:{url:a}},metaData:{fileName:g}},t)}))}),[a,p,m,f,h]),_=(0,d.useBlockProps)({ref:y}),v=e=>{e.id&&o({mediaUrl:e.url,fileName:e.filename?e.filename:e.title})},[P,E]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{n||E(!1)}),[n]),a?(0,r.createElement)("div",_,(0,r.createElement)(d.InspectorControls,null,(0,r.createElement)(b,e)),(0,r.createElement)(d.BlockControls,null,a&&(0,r.createElement)(s.ToolbarGroup,null,(0,r.createElement)(d.MediaReplaceFlow,{mediaURL:a,allowedTypes:["application/pdf"],accept:".pdf",onSelect:e=>v(e)}))),(0,r.createElement)("div",{id:w,style:{height:u}}),!P&&(0,r.createElement)("div",{className:"block-library-embed__interactive-overlay",onMouseUp:()=>E(!0)})):(0,r.createElement)("div",_,(0,r.createElement)(d.MediaPlaceholder,{icon:"pdf",labels:{title:(0,i.__)("PDF"),instructions:(0,i.__)("Upload a PDF file, pick one from your media library, or add one with a URL.","pdf-embed")},className:"block-image",onSelect:v,onSelectURL:e=>{o({mediaUrl:e,fileName:new URL(e).pathname.split("/").pop()})},accept:".pdf",allowedTypes:["application/pdf"]}))}const h=window.wp.hooks;var g=o(184),w=o.n(g);const y=["core/button","generateblocks/button"],_=(0,c.createHigherOrderComponent)((e=>t=>{if(!y.includes(t.name))return(0,r.createElement)(e,t);const{attributes:o,setAttributes:n}=t;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(e,t),(0,r.createElement)(d.BlockControls,null,(0,r.createElement)(s.ToolbarGroup,null,(0,r.createElement)(s.ToolbarButton,{label:(0,i.__)("Open pdf in lightbox","pdf-embed"),icon:"pdf",onClick:()=>{n({embedPdf:!o.embedPdf})},isPressed:o.embedPdf}))))}),"withSpacingControl");(0,h.addFilter)("editor.BlockEdit","extend-block-example/with-spacing-control",_);const v=["core/button"];(0,h.addFilter)("blocks.registerBlockType","tropicalista/pdf-embed",(function(e,t){return v.includes(t)?(void 0!==e.attributes&&(e.attributes=Object.assign(e.attributes,{embedPdf:{type:"boolean",default:!1}})),e):e})),(0,h.addFilter)("blocks.getSaveContent.extraProps","tropicalista/pdf-embed",(function(e,t,o){if(!y.includes(t.name))return e;const{embedPdf:n}=o,{className:l}=e;return Object.assign({},e,{className:w()(l,{embedPdf:n})})})),(0,n.registerBlockType)(l,{edit:function(e){const{attributes:t,setAttributes:o,clientId:n}=e,{blockId:l,apiKey:c,anchor:p}=t;return(0,r.useEffect)((()=>{o({apiKey:pdf_embed.apiKey});const e=n.substr(2,9).replace("-","").replace(/-/g,"");l||o({blockId:e}),p||o({anchor:e})}),[]),c?(0,r.createElement)(f,e):(0,r.createElement)(s.Placeholder,a({},(0,d.useBlockProps)(),{icon:"pdf",instructions:(0,r.createElement)(r.RawHTML,null,(0,i.sprintf)((0,i.__)("<p>Please insert a <b>free api Key</b> here or in the settings panel on the right. Get your free API key on %s.</p>","pdf-embed"),'<a href="https://www.adobe.io/apis/documentcloud/dcsdk/pdf-embed.html" target="_blank">Adobe  Official site</a>')),label:(0,i.__)("PDF Embed","pdf-embed")}),(0,r.createElement)(m,e))},save:function(e){let{attributes:t}=e;const{blockId:o,mediaUrl:n,embedMode:l,height:i,apiKey:s,showPrintPDF:c,showDownloadPDF:p,showPageControls:u,showFullScreen:m,dockPageControls:b,fileName:f,showAnnotationTools:h,enableFormFilling:g}=t;return(0,r.createElement)("div",a({id:o},d.useBlockProps.save(),{style:{height:i},"data-apiKey":s,"data-fileName":f,"data-mediaUrl":n,"data-embedMode":l,"data-showDownloadPDF":p,"data-showPrintPDF":c,"data-showPageControls":u,"data-showFullScreen":m,"data-dockPageControls":b,"data-showAnnotationTools":h,"data-enableFormFilling":g}))}})},184:(e,t)=>{var o;!function(){"use strict";var n={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)){if(o.length){var r=l.apply(null,o);r&&e.push(r)}}else if("object"===a){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var i in o)n.call(o,i)&&o[i]&&e.push(i)}}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(o=function(){return l}.apply(t,[]))||(e.exports=o)}()}},o={};function n(e){var l=o[e];if(void 0!==l)return l.exports;var a=o[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,o,l,a)=>{if(!o){var r=1/0;for(c=0;c<e.length;c++){for(var[o,l,a]=e[c],i=!0,d=0;d<o.length;d++)(!1&a||r>=a)&&Object.keys(n.O).every((e=>n.O[e](o[d])))?o.splice(d--,1):(i=!1,a<r&&(r=a));if(i){e.splice(c--,1);var s=l();void 0!==s&&(t=s)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,l,a]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var l,a,[r,i,d]=o,s=0;if(r.some((t=>0!==e[t]))){for(l in i)n.o(i,l)&&(n.m[l]=i[l]);if(d)var c=d(n)}for(t&&t(o);s<r.length;s++)a=r[s],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},o=globalThis.webpackChunkadobe_pdf=globalThis.webpackChunkadobe_pdf||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=n.O(void 0,[431],(()=>n(817)));l=n.O(l)})();