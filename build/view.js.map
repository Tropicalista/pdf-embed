{"version":3,"file":"view.js","mappings":";;;;;AAAA,MAAMA,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAE,QAAS,CAAC;AACjDF,MAAM,CAACG,GAAG,GAAG,sDAAsD;AACnEF,QAAQ,CAACG,IAAI,CAACC,WAAW,CAAEL,MAAO,CAAC;AAEnCC,QAAQ,CAACK,gBAAgB,CAAE,yBAAyB,EAAE,YAAY;EACjE,MAAMC,IAAI,GAAGN,QAAQ,CAACO,gBAAgB,CAAE,iCAAkC,CAAC;EAC3E,MAAMC,QAAQ,GAAGC,MAAM,CAACC,SAAS,CAACC,QAAQ,IAAIF,MAAM,CAACC,SAAS,CAACE,YAAY;EAE3E,KAAM,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,IAAI,CAACQ,MAAM,EAAED,CAAC,EAAE,EAAG;IACvC,MAAME,WAAW,GAAGT,IAAI,CAAEO,CAAC,CAAE,CAACG,OAAO;IAErC,MAAMC,MAAM,GAAG;MAAE,GAAGC,SAAS;MAAE,GAAGH;IAAY,CAAC;IACjDI,OAAO,CAACC,GAAG,CAACH,MAAM,EAAEF,WAAW,CAAC;IAC9B,MAAMM,WAAW,GAAG,IAAIZ,MAAM,CAACa,OAAO,CAACC,IAAI,CAAE;MAC5CC,QAAQ,EAAEP,MAAM,CAACO,QAAQ;MACzBC,KAAK,EAAEnB,IAAI,CAAEO,CAAC,CAAE,CAACa,EAAE;MACnBC,MAAM,EAAEnB,QAAQ;MAChBoB,aAAa,EAAEX,MAAM,CAACW;IACvB,CAAE,CAAC;IAEH,MAAMC,kBAAkB,GAAGR,WAAW,CAACS,WAAW,CACjD;MACCC,OAAO,EAAE;QACRC,QAAQ,EAAE;UACTC,GAAG,EAAEhB,MAAM,CAACiB;QACb;MACD,CAAC;MACDC,QAAQ,EAAE;QACTC,QAAQ,EAAEnB,MAAM,CAACmB;MAClB;IACD,CAAC,EACD;MACCC,SAAS,EAAEpB,MAAM,CAACoB,SAAS;MAC3BC,eAAe,EAAErB,MAAM,CAACqB,eAAe;MACvCC,gBAAgB,EAAEC,OAAO,CAAEvB,MAAM,CAACsB,gBAAiB,CAAC;MACpDE,eAAe,EAAED,OAAO,CAAEvB,MAAM,CAACyB,eAAgB,CAAC;MAClDC,YAAY,EAAEH,OAAO,CAAEvB,MAAM,CAAC2B,YAAa,CAAC;MAC5CC,gBAAgB,EAAEL,OAAO,CAAEvB,MAAM,CAAC4B,gBAAiB,CAAC;MACpDC,eAAe,EAAEN,OAAO,CAAEvB,MAAM,CAAC6B,eAAgB,CAAC;MAClDC,cAAc,EAAEP,OAAO,CAAEvB,MAAM,CAAC8B,cAAe,CAAC;MAChDC,cAAc,EAAER,OAAO,CAAEvB,MAAM,CAAC+B,cAAe,CAAC;MAChDC,aAAa,EAAET,OAAO,CAAEvB,MAAM,CAACgC,aAAc,CAAC;MAC9CC,mBAAmB,EAAEV,OAAO,CAAEvB,MAAM,CAACiC,mBAAoB,CAAC;MAC1DC,mBAAmB,EAAEX,OAAO,CAAEvB,MAAM,CAACkC,mBAAoB,CAAC;MAC1DC,iBAAiB,EAAEZ,OAAO,CAAEvB,MAAM,CAACmC,iBAAkB,CAAC;MACtDC,mBAAmB,EAAEb,OAAO,CAAEvB,MAAM,CAACoC,mBAAoB;IAC1D,CACD,CAAC;IACDxB,kBAAkB,CAACyB,IAAI,CAAIC,WAAW,IAAM;MAC3CA,WAAW,CAACC,OAAO,CAAC,CAAC,CAACF,IAAI,CAAIG,IAAI,IAAM;QACvCA,IAAI,CAACN,mBAAmB,CACvBX,OAAO,CAAEzB,WAAW,CAACoC,mBAAoB,CAC1C,CAAC;QACD,IAAKpC,WAAW,CAAC2C,IAAI,EAAG;UACvBD,IAAI,CAACE,YAAY,CAAE5C,WAAW,CAAC2C,IAAK,CAAC;QACtC;MACD,CAAE,CAAC;IACJ,CAAE,CAAC;EACJ;EAEA,MAAME,OAAO,GAAG5D,QAAQ,CAACO,gBAAgB,CAAE,yBAA0B,CAAC;EACtE,KAAM,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+C,OAAO,CAAC9C,MAAM,EAAED,CAAC,EAAE,EAAG;IAC1C+C,OAAO,CAAE/C,CAAC,CAAE,CAACgD,OAAO,GAAG,UAAWC,CAAC,EAAG;MACrC,MAAMC,GAAG,GAAGD,CAAC,CAACE,MAAM,CAACC,IAAI,CACvBC,KAAK,CAAE,MAAO,CAAC,CAAE,CAAC,CAAE,CACpBA,KAAK,CAAE,GAAI,CAAC,CACZC,GAAG,CAAC,CAAC,CACLC,IAAI,CAAC,CAAC;MACR,IAAK,KAAK,KAAKL,GAAG,EAAG;QACpBD,CAAC,CAACO,cAAc,CAAC,CAAC;QAClBvC,WAAW,CAAEgC,CAAE,CAAC;MACjB;IACD,CAAC;EACF;AACD,CAAE,CAAC;;AAEH;AACA,SAAShC,WAAWA,CAAEgC,CAAC,EAAG;EACzB,IAAK,CAAEA,CAAC,CAACE,MAAM,CAACC,IAAI,EAAG;IACtB;EACD;;EAEA;EACA,MAAM5C,WAAW,GAAG,IAAIZ,MAAM,CAACa,OAAO,CAACC,IAAI,CAAE;IAC5C;IACAC,QAAQ,EAAEN,SAAS,CAACoD;EACrB,CAAE,CAAC;;EAEH;EACAjD,WAAW,CAACS,WAAW,CACtB;IACC;IACAC,OAAO,EAAE;MACR;MACAC,QAAQ,EAAE;QACTC,GAAG,EAAE6B,CAAC,CAACE,MAAM,CAACC;MACf;IACD,CAAC;IACD;IACA9B,QAAQ,EAAE;MACT;MACAC,QAAQ,EAAE,IAAImC,GAAG,CAAET,CAAC,CAACE,MAAM,CAACC,IAAK,CAAC,CAACO,QAAQ,CAACN,KAAK,CAAE,GAAI,CAAC,CAACC,GAAG,CAAC;IAC9D;EACD,CAAC,EACD;IACC9B,SAAS,EAAE;EACZ,CACD,CAAC;AACF,C","sources":["webpack://adobe-pdf/./src/view.js"],"sourcesContent":["const script = document.createElement( 'script' );\nscript.src = 'https://acrobatservices.adobe.com/view-sdk/viewer.js';\ndocument.head.appendChild( script );\n\ndocument.addEventListener( 'adobe_dc_view_sdk.ready', function () {\n\tconst elms = document.querySelectorAll( '.wp-block-tropicalista-pdfembed' );\n\tconst userLang = window.navigator.language || window.navigator.userLanguage;\n\n\tfor ( let i = 0; i < elms.length; i++ ) {\n\t\tconst embedConfig = elms[ i ].dataset;\n\n\t\tconst config = { ...pdf_embed, ...embedConfig };\nconsole.log(config, embedConfig)\n\t\tconst adobeDCView = new window.AdobeDC.View( {\n\t\t\tclientId: config.clientId,\n\t\t\tdivId: elms[ i ].id,\n\t\t\tlocale: userLang,\n\t\t\tmeasurementId: config.measurementId,\n\t\t} );\n\n\t\tconst previewFilePromise = adobeDCView.previewFile(\n\t\t\t{\n\t\t\t\tcontent: {\n\t\t\t\t\tlocation: {\n\t\t\t\t\t\turl: config.mediaUrl,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tmetaData: {\n\t\t\t\t\tfileName: config.fileName,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tembedMode: config.embedMode,\n\t\t\t\tdefaultViewMode: config.defaultViewMode,\n\t\t\t\tdockPageControls: Boolean( config.dockPageControls ),\n\t\t\t\tshowDownloadPDF: Boolean( config.showDownloadPdf ),\n\t\t\t\tshowPrintPDF: Boolean( config.showPrintPdf ),\n\t\t\t\tshowPageControls: Boolean( config.showPageControls ),\n\t\t\t\tshowZoomControl: Boolean( config.showZoomControl ),\n\t\t\t\tshowFullScreen: Boolean( config.showFullScreen ),\n\t\t\t\tshowThumbnails: Boolean( config.showThumbnails ),\n\t\t\t\tshowBookmarks: Boolean( config.showBookmarks ),\n\t\t\t\tshowAnnotationTools: Boolean( config.showAnnotationTools ),\n\t\t\t\tenableTextSelection: Boolean( config.enableTextSelection ),\n\t\t\t\tenableFormFilling: Boolean( config.enableFormFilling ),\n\t\t\t\tenableLinearization: Boolean( config.enableLinearization ),\n\t\t\t}\n\t\t);\n\t\tpreviewFilePromise.then( ( adobeViewer ) => {\n\t\t\tadobeViewer.getAPIs().then( ( apis ) => {\n\t\t\t\tapis.enableTextSelection(\n\t\t\t\t\tBoolean( embedConfig.enableTextSelection )\n\t\t\t\t);\n\t\t\t\tif ( embedConfig.goTo ) {\n\t\t\t\t\tapis.gotoLocation( embedConfig.goTo );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\tconst buttons = document.querySelectorAll( '.embedPdf>a, a.embedPdf' );\n\tfor ( let i = 0; i < buttons.length; i++ ) {\n\t\tbuttons[ i ].onclick = function ( e ) {\n\t\t\tconst ext = e.target.href\n\t\t\t\t.split( /[#?]/ )[ 0 ]\n\t\t\t\t.split( '.' )\n\t\t\t\t.pop()\n\t\t\t\t.trim();\n\t\t\tif ( 'pdf' === ext ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tpreviewFile( e );\n\t\t\t}\n\t\t};\n\t}\n} );\n\n/* Function to render the file using PDF Embed API. */\nfunction previewFile( e ) {\n\tif ( ! e.target.href ) {\n\t\treturn;\n\t}\n\n\t/* Initialize the AdobeDC View object */\n\tconst adobeDCView = new window.AdobeDC.View( {\n\t\t/* Pass your registered client id */\n\t\tclientId: pdf_embed.apiKey,\n\t} );\n\n\t/* Invoke the file preview API on Adobe DC View object */\n\tadobeDCView.previewFile(\n\t\t{\n\t\t\t/* Pass information on how to access the file */\n\t\t\tcontent: {\n\t\t\t\t/* Location of file where it is hosted */\n\t\t\t\tlocation: {\n\t\t\t\t\turl: e.target.href,\n\t\t\t\t},\n\t\t\t},\n\t\t\t/* Pass meta data of file */\n\t\t\tmetaData: {\n\t\t\t\t/* file name */\n\t\t\t\tfileName: new URL( e.target.href ).pathname.split( '/' ).pop(),\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tembedMode: 'LIGHT_BOX',\n\t\t}\n\t);\n}\n"],"names":["script","document","createElement","src","head","appendChild","addEventListener","elms","querySelectorAll","userLang","window","navigator","language","userLanguage","i","length","embedConfig","dataset","config","pdf_embed","console","log","adobeDCView","AdobeDC","View","clientId","divId","id","locale","measurementId","previewFilePromise","previewFile","content","location","url","mediaUrl","metaData","fileName","embedMode","defaultViewMode","dockPageControls","Boolean","showDownloadPDF","showDownloadPdf","showPrintPDF","showPrintPdf","showPageControls","showZoomControl","showFullScreen","showThumbnails","showBookmarks","showAnnotationTools","enableTextSelection","enableFormFilling","enableLinearization","then","adobeViewer","getAPIs","apis","goTo","gotoLocation","buttons","onclick","e","ext","target","href","split","pop","trim","preventDefault","apiKey","URL","pathname"],"sourceRoot":""}